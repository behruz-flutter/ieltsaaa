<!doctype html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kurslar — 8 ta video (ichida ko'rish)</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f6f8fb;
      --card:#ffffff;
      --muted:#6b7280;
      --accent:#0f766e;
      --accent-2:#0ea5a4;
      font-family: 'Inter', system-ui, Arial, sans-serif;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:#0f172a;padding:24px;-webkit-font-smoothing:antialiased}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:18px}
    h1{margin:0;font-size:20px}
    p.lead{margin:0;color:var(--muted);font-size:13px}
    .container{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    @media (max-width:900px){ .container{grid-template-columns:repeat(2,1fr)} }
    @media (max-width:560px){ .container{grid-template-columns:1fr} header{flex-direction:column;align-items:flex-start} }
    .card{background:var(--card);border-radius:12px;padding:12px;box-shadow:0 6px 18px rgba(8,15,35,0.06);display:flex;flex-direction:column;gap:10px;min-height:220px}
    .meta{display:flex;justify-content:space-between;align-items:center;gap:8px}
    .cat{font-size:12px;color:var(--muted);background:#eef6f6;padding:6px 8px;border-radius:999px;display:inline-block}
    .title{font-weight:600;font-size:14px}
    /* video area fills card; clicking plays inside card controls */
    .video-wrap{background:#000;border-radius:8px;overflow:hidden;height:180px;display:flex;align-items:center;justify-content:center}
    .video-wrap iframe, .video-wrap video, .video-wrap img{width:100%;height:100%;object-fit:cover;display:block}
    .card-footer{display:flex;gap:8px;justify-content:space-between;align-items:center}
    .btn{border:0;padding:8px 12px;border-radius:8px;background:var(--accent);color:white;cursor:pointer;font-size:14px}
    .btn.secondary{background:#e6eef0;color:#064e47}
    .small{font-size:13px;color:var(--muted)}
    footer{margin-top:18px;color:var(--muted);font-size:13px}
    /* subtle responsive tweak */
    @media (max-width:560px){ .video-wrap{height:160px} }
  </style>
</head>
<body>
  <header>
    <div>
      <h1>Kurslar — 8 ta video</h1>
      <p class="lead">Beginner (3) · Present Perfect (2) · Present Simple (3). Videolar kartalarda oʻrnatilgan — toʻgʻridan-toʻgʻri shu yerda koʻrish mumkin.</p>
    </div>
    <div>
      <button id="clearAll" class="btn secondary">Barchasini tozalash</button>
    </div>
  </header>

  <main>
    <section class="container" id="grid">
      <!-- Kartlar JS orqali yaratiladi -->
    </section>

    <footer>
      <div>Qanday ishlaydi: <span class="small">Videolar kod ichida DEFAULT_VIDEOS orqali aniqlangan. Tahrirlash tugmalari olib tashlandi — har bir karta ichida video bevosita ko'rinadi.</span></div>
    </footer>
  </main>

  <script>
    // ======= Konfiguratsiya: 8 ta slot va kategoriyalar =======
    const slotsConfig = [
      { id: 'b-1', label: 'Beginner 1', category: 'Beginner' },
      { id: 'b-2', label: 'Beginner 2', category: 'Beginner' },
      { id: 'b-3', label: 'Beginner 3', category: 'Beginner' },
      { id: 'pp-1', label: 'Present Perfect 1', category: 'Present Perfect' },
      { id: 'pp-2', label: 'Present Perfect 2', category: 'Present Perfect' },
      { id: 'ps-1', label: 'Present Simple 1', category: 'Present Simple' },
      { id: 'ps-2', label: 'Present Simple 2', category: 'Present Simple' },
      { id: 'ps-3', label: 'Present Simple 3', category: 'Present Simple' },
    ];

    const STORAGE_KEY = 'kurslar_videos_v1';

    // ======= DEFAULT video links in code (local relative paths or YouTube) =======
    const DEFAULT_VIDEOS = {
      'b-1': { url: 'videos/beginner1.mp4' },
      'b-2': { url: 'https://youtu.be/3_-U78SzHVI?si=kNmPPtVZ1qstTsLW' },
      'b-3': { url: 'videos/beginner3.mp4' },
      'pp-1': { url: 'videos/present_perfect1.mp4' },
      'pp-2': { url: 'videos/present_perfect2.mp4' },
      'ps-1': { url: 'videos/present_simple1.mp4' },
      'ps-2': { url: 'videos/present_simple2.mp4' },
      'ps-3': { url: 'videos/present_simple3.mp4' },
    };

    // Helper: extract YouTube ID
    function getYouTubeID(url) {
      if (!url) return null;
      const re = /(?:youtube\.com\/(?:watch\?.*v=|embed\/|v\/)|youtu\.be\/)([A-Za-z0-9_-]{6,})/;
      const m = url.match(re);
      return m ? m[1] : null;
    }

    // Parse video: youtube or mp4 or other
    function parseVideo(url) {
      if (!url) return null;
      const yt = getYouTubeID(url);
      if (yt) return { type: 'youtube', id: yt, src: `https://www.youtube.com/embed/${yt}` };
      if (/\.(mp4|webm|ogg)(\?.*)?$/i.test(url)) return { type: 'video', src: url };
      try {
        const u = new URL(url);
        if (u.pathname.match(/\.(mp4|webm|ogg)$/i)) return { type: 'video', src: url };
        return { type: 'video', src: url };
      } catch (e) {
        return { type: 'video', src: url }; // relative path
      }
    }

    // Load stored data but fallback to defaults
    function loadData() {
      const raw = localStorage.getItem(STORAGE_KEY);
      let stored = {};
      if (raw) {
        try { stored = JSON.parse(raw) || {}; } catch(e){ stored = {}; }
      }
      return Object.assign({}, DEFAULT_VIDEOS, stored);
    }

    // Grid render
    const grid = document.getElementById('grid');

    function createCard(slot){
      const el = document.createElement('div');
      el.className = 'card';
      el.id = `card-${slot.id}`;
      el.innerHTML = `
        <div class="meta">
          <div>
            <div class="cat">${slot.category}</div>
            <div class="title">${slot.label}</div>
          </div>
          <div class="small" id="slot-${slot.id}-status">—</div>
        </div>
        <div class="video-wrap" id="video-${slot.id}">
          <!-- video yoki placeholder -->
        </div>
        <div class="card-footer">
          <div class="small">ID: ${slot.id}</div>
          <div class="small" id="slot-${slot.id}-note">Bevosita oynada koʻring</div>
        </div>
      `;
      return el;
    }

    function renderAll(){
      grid.innerHTML = '';
      slotsConfig.forEach(s=>{
        const card = createCard(s);
        grid.appendChild(card);
      });
      slotsConfig.forEach(s=> renderSlot(s.id));
    }

    function renderSlot(slotId){
      const data = loadData();
      const info = data[slotId];
      const wrap = document.getElementById(`video-${slotId}`);
      const status = document.getElementById(`slot-${slotId}-status`);
      const note = document.getElementById(`slot-${slotId}-note`);
      wrap.innerHTML = '';
      if (!info || !info.url) {
        wrap.innerHTML = `<img src="data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='640' height='360'>
            <rect width='100%' height='100%' fill='%23e6eef0'/>
            <text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-size='20' fill='%238a99a6' font-family='Inter, Arial'>Video yo'q</text>
          </svg>" alt="placeholder">`;
        status.textContent = 'Boʻsh';
        if (note) note.textContent = 'Videoni koddan qoʻshing';
        return;
      }
      const parsed = parseVideo(info.url);
      if (!parsed) {
        wrap.innerHTML = `<div style="padding:12px;color:#7b8794">Noto'g'ri URL</div>`;
        status.textContent = 'Notoʻgʻri URL';
        if (note) note.textContent = '';
        return;
      }
      if (parsed.type === 'youtube') {
        const iframe = document.createElement('iframe');
        iframe.setAttribute('src', parsed.src);
        iframe.setAttribute('frameborder','0');
        iframe.setAttribute('allow','accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture');
        iframe.setAttribute('allowfullscreen','');
        wrap.appendChild(iframe);
        status.textContent = 'YouTube';
        if (note) note.textContent = 'YouTube video — oynada ko‘rsatiladi';
      } else {
        const video = document.createElement('video');
        video.setAttribute('controls','');
        video.setAttribute('playsinline','');
        video.src = parsed.src;
        // if local file path is invalid the browser will show error in video element
        wrap.appendChild(video);
        status.textContent = 'MP4 / Video';
        if (note) note.textContent = 'Fayl sizning sayt papkangizdan yuklanadi (relative path)';
      }
    }

    // "Clear all" removes saved overrides (defaults remain)
    document.getElementById('clearAll').addEventListener('click', ()=>{
      if (!confirm('Barcha saqlangan sozlamalar o\'chiriladi. Davom etilsinmi?')) return;
      localStorage.removeItem(STORAGE_KEY);
      renderAll();
    });

    // initial render
    renderAll();
  </script>
</body>
</html>


  ushbu code da Overall Speaking Avg:  degan joyda ball chiqadigan joyda 
   